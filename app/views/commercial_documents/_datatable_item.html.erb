<tr id="<%= dom_id(document) %>">
  <td class="relative px-6">
    <div class="row-marker absolute inset-y-0 left-0 w-0.5 bg-indigo-600"></div>
    <%= children_checkbox(document.id) %>
  </td>

  <td class="whitespace-nowrap py-4 pr-3 text-sm text-gray-900">
    <%= document.date %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-left">
    <%= status_badge(document.status) %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-left">
    <%= document.contact.display_name if document.contact.present? %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-left">
    <%= document.number %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-right">
    <%= format_amount document.subtotal %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-right">
    <%= format_amount document.taxes_amount %>
  </td>

  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-right">
    <%= format_amount document.total %>
  </td>

  <td class="whitespace-nowrap px-3 sm:px-0 py-4">
     <%= render DropdownComponent.new(title: "#{document.class.name} menu", mode: 'light') do |c| %>
        <%= c.with_toggle do %>
          <%= inline_svg_tag 'mini/ellipsis-vertical', class: 'h-5 w-5' %>
        <% end %>

        <%= c.with_links do %>
          <%#= link_to polymorphic_path([:edit, document]),
                      class: 'text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100 hover:text-gray-900',
                      data: { turbo_frame: 'modal' },
                      role: 'menuitem',
                      tabindex: -1 do %>
            Edit <span class="sr-only">, <%= document.class.name %></span>
          <%# end %>

          <%#= link_to document,
                      class: 'text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100 hover:text-gray-900',
                      data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                      role: 'menuitem',
                      tabindex: -1 do %>
            Delete <span class="sr-only">, <%= document.class.name %></span>
          <%# end %>
        <% end %>
      <% end %>
  </td>
</tr>

